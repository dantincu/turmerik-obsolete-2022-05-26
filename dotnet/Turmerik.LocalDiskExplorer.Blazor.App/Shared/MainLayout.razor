@using Blazored.SessionStorage
@using Turmerik.AspNetCore.LocalSession
@using Turmerik.AspNetCore.Services
@using Turmerik.AspNetCore.Settings
@using Turmerik.Blazor.Core.Pages.Shared
@inherits MainLayoutComponentBase

@inject INavManager navManager;
@inject ILocalSessionsManager localSessionsManager;
@inject ITrmrkAppSettings appSettings;
@inject IHttpContextAccessor httpContextAccessor;
@inject ISessionStorageService sessionStorage;

<PageTitle>Turmerik Local Disk Explorer</PageTitle>

<div class="page">
    <div class="sidebar trmrk-app-sidebar @SideBarSizeCssClass">
        <NavMenu SizeChangedCallback="@SizeChangedCallback" />
    </div>

    <main>
        <article class="content px-4">
            @Body
        </article>
    </main>
</div>

@code {
    protected override Task OnParametersSetAsync()
    {
        this.LocalSessionsManager = localSessionsManager;
        this.NavManager = navManager;
        this.AppSettings = appSettings;
        this.HttpContextAccessor = httpContextAccessor;
        this.SessionStorage = sessionStorage;

        return base.OnParametersSetAsync();
    }
}